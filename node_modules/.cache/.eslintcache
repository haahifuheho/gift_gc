[{"/home/ookusa/app/gift_gc/src/index.js":"1","/home/ookusa/app/gift_gc/src/App.js":"2","/home/ookusa/app/gift_gc/src/reportWebVitals.js":"3","/home/ookusa/github/gift_gc/src/index.js":"4","/home/ookusa/github/gift_gc/src/reportWebVitals.js":"5","/home/ookusa/github/gift_gc/src/App.js":"6","/home/mikami/GitLocal/gift_gc/src/index.js":"7","/home/mikami/GitLocal/gift_gc/src/App.js":"8","/home/mikami/GitLocal/gift_gc/src/reportWebVitals.js":"9","/home/mikami/GitLocal/gift_gc/src/Gifting.js":"10","/home/mikami/GitLocal/gift_gc/src/Viewer.js":"11","/home/ookusa/github/gift_gc/src/Gifting.js":"12","/home/ookusa/github/gift_gc/src/Viewer.js":"13","/home/ookusa/github/gift_gc/src/YesCancelDialog.js":"14","/home/ookusa/github/gift_gc/src/Viewer2.js":"15","/home/ookusa/github/gift_gc/src/Modal.js":"16"},{"size":535,"mtime":1680141750720,"results":"17","hashOfConfig":"18"},{"size":20200,"mtime":1680182944435,"results":"19","hashOfConfig":"18"},{"size":362,"mtime":1680141750720,"results":"20","hashOfConfig":"18"},{"size":367,"mtime":1680533048874,"results":"21","hashOfConfig":"22"},{"size":362,"mtime":1680272459247,"results":"23","hashOfConfig":"22"},{"size":397,"mtime":1681386305901,"results":"24","hashOfConfig":"22"},{"size":367,"mtime":1680525831685,"results":"25","hashOfConfig":"26"},{"size":303,"mtime":1680525945664,"results":"27","hashOfConfig":"26"},{"size":362,"mtime":1680523259650,"results":"28","hashOfConfig":"26"},{"size":3496,"mtime":1680524680878,"results":"29","hashOfConfig":"26"},{"size":1585,"mtime":1680527622112,"results":"30","hashOfConfig":"26"},{"size":6174,"mtime":1681628566403,"results":"31","hashOfConfig":"22"},{"size":1469,"mtime":1681615332626,"results":"32","hashOfConfig":"22"},{"size":1359,"mtime":1680865311589,"results":"33","hashOfConfig":"22"},{"size":1500,"mtime":1681569415646,"results":"34","hashOfConfig":"22"},{"size":1129,"mtime":1681386305901,"results":"35","hashOfConfig":"22"},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},"1r7g65q",{"filePath":"40","messages":"41","suppressedMessages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"43","messages":"44","suppressedMessages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"46","messages":"47","suppressedMessages":"48","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"kiwksj",{"filePath":"50","messages":"51","suppressedMessages":"52","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"53","messages":"54","suppressedMessages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},{"filePath":"56","messages":"57","suppressedMessages":"58","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1n18kgy",{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"62","messages":"63","suppressedMessages":"64","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"71","messages":"72","suppressedMessages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"74"},{"filePath":"75","messages":"76","suppressedMessages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"78"},{"filePath":"79","messages":"80","suppressedMessages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"85","messages":"86","suppressedMessages":"87","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"49"},"/home/ookusa/app/gift_gc/src/index.js",[],[],[],"/home/ookusa/app/gift_gc/src/App.js",[],[],"/home/ookusa/app/gift_gc/src/reportWebVitals.js",[],[],"/home/ookusa/github/gift_gc/src/index.js",[],[],[],"/home/ookusa/github/gift_gc/src/reportWebVitals.js",[],[],"/home/ookusa/github/gift_gc/src/App.js",[],[],"/home/mikami/GitLocal/gift_gc/src/index.js",[],[],"/home/mikami/GitLocal/gift_gc/src/App.js",[],[],"/home/mikami/GitLocal/gift_gc/src/reportWebVitals.js",[],[],"/home/mikami/GitLocal/gift_gc/src/Gifting.js",[],[],"/home/mikami/GitLocal/gift_gc/src/Viewer.js",["88","89","90"],[],"/home/ookusa/github/gift_gc/src/Gifting.js",["91","92","93"],[],"import React, { useState, useEffect, useRef } from \"react\";\nimport Web3 from 'web3';\nimport \"./Gifting.css\";\nimport abi from \"./contracts/GiftMessage.json\";\nimport emailjs from \"emailjs-com\";\nimport logo_mob from \"./images/logo1.png\"\nimport useModal from './Modal';\nemailjs.init('o5z8BrXFZtZW3NYAJ');\n\n\n\nfunction Gifting() {\n    const [message, setMessage] = useState(\"\");\n    const [recipient, setRecipient] = useState(\"\");\n    const [to_email, setEmailto] = useState(\"\");\n    const [tokenId, setTokenId] = useState(\"\");\n    const inputRecipient = useRef(null);\n\n    const [web3, setWeb3] = useState(new Web3());\n    const [accounts, setAccounts] = useState(null);\n    const [contract, setContract] = useState(null);\n\n    const [selectedOption, setSelectedOption] = useState('option1');\n\n    const { Modal, openModal, closeModal } = useModal();\n    const [disabled, setDisabled] = useState(false);\n\n    const handleOptionChange = (event) => {\n        setSelectedOption(event.target.value);\n        let contractAddress;\n        let abi;\n        if (event.target.value === 'option1') {\n            setDisabled(false);\n            setRecipient(inputRecipient.current.value);\n        } else if (event.target.value === 'option2') {\n            setDisabled(true);\n            setRecipient(process.env.REACT_APP_MANAGEMENT_ADDRESS);\n        }\n    }\n\n    useEffect(() => {\n        const initWeb3 = async () => {\n            if (window.ethereum) {\n                try {\n                    const web3 = new Web3(window.ethereum);\n                    await window.ethereum.enable();\n                    const accounts = await web3.eth.getAccounts();\n                    setWeb3(web3);\n                    setAccounts(accounts);\n                } catch (error) {\n                    console.error(error);\n                }\n            } else {\n                console.error(\"Please install MetaMask!\");\n                web3.setProvider(new web3.providers.HttpProvider('https://rpc-mumbai.maticvigil.com/'));\n                setWeb3(web3);\n            }\n            setContract(new web3.eth.Contract(abi, process.env.REACT_APP_CONTRACT_ADDRESS));\n        };\n        initWeb3();\n    }, []);\n\n    useEffect(() => {\n        if (web3) {\n            const initContract = async () => {\n                if (web3) {\n                    const contract = new web3.eth.Contract(abi, process.env.REACT_APP_CONTRACT_ADDRESS);\n                    setContract(contract);\n                }\n            };\n            initContract();\n        }\n    }, [web3]);\n\n    const [successMessage, setSuccessMessage] = useState(\"\");\n    const [errorMessage, setErrorMessage] = useState(\"\");\n\n    const giftNFT = async () => {\n\n        try {\n            const tx = await contract.methods.giftNFT(recipient, message).send({ from: accounts[0] })\n                    .on('receipt', (receipt) => {\n                    const tokenId = receipt.events.Gift.returnValues.tokenId;\n                    const emailjsServiceId = process.env.REACT_APP_EMAILJS_SERVICE_ID;\n                    const emailjsTemplateId = process.env.REACT_APP_EMAILJS_TEMPLATE_ID;\n                    const mailtokenId = tokenId;\n                    const templateParams = {\n                        to_email: to_email,\n                        message: message + \" URL:http://35.76.124.162:3000/viewer2/?id=\" + mailtokenId\n                    };\n                    emailjs.send(emailjsServiceId, emailjsTemplateId, templateParams).then(() => {\n                    });\n               });\n                \n            const event = tx.events[0];\n            if (event && event.returnValues && event.returnValues[2]) {\n                const newTokenId = event.returnValues[2].toNumber();\n                setTokenId(newTokenId);\n                setSuccessMessage(`Gifted NFT with Token ID: ${newTokenId}`);\n                setErrorMessage(\"\");\n            }\n\n        } catch (error) {\n            console.error(error);\n            setErrorMessage(\"Failed to gift NFT.\");\n            setSuccessMessage(\"\");\n        }\n    };\n\n    return (\n        <div className=\"style_a\">\n\n            <h1>\n                <br />\n                <img src={logo_mob} alt=\"logo_mob\" width=\"400px\" />\n            </h1>\n            <label>Wallet：</label>\n            <label>\n                <input type=\"radio\" value=\"option1\" checked={selectedOption === 'option1'} onChange={handleOptionChange} />\n                あり\n            </label>\n            <label>\n                <input type=\"radio\" value=\"option2\" checked={selectedOption === 'option2'} onChange={handleOptionChange} />\n                なし\n            </label>\n            <br />\n\n            <input type=\"text\" className={disabled ? \"disabled\" : \"\"} placeholder=\"Recipient\" onChange={(e) => setRecipient(e.target.value)} ref={inputRecipient} disabled={disabled} />\n            <br />\n            <br />\n            <textarea placeholder=\"Message\" onChange={(e) => setMessage(e.target.value)} />\n            <br />\n            <br />\n            <input type=\"email\" placeholder=\"E-mail\" onChange={(e) => setEmailto(e.target.value)} />\n            <br />\n            <br />\n            <br />\n            <button onClick={openModal}>Send Message!</button>\n            <Modal>\n                <div className=\"modal\">\n                    <p>Is it okay to send an on-chain message NFT gift?</p>\n                    <button onClick={() => {\n                        giftNFT();\n                        closeModal();\n                    }}>OK</button>\n                    <button onClick={closeModal}>キャンセル</button>\n                </div>\n            </Modal>\n            {tokenId && (\n                <div>\n                    <p>Gifted NFT with Token ID: {tokenId}</p>\n                    <p>Message: {message}</p>\n                    <p>Recipient: {recipient}</p>\n                </div>\n            )}\n            <br />\n            {successMessage && <p>{successMessage}</p>}\n            {errorMessage && <p>{errorMessage}</p>}\n\n\n            <br />\n            <br />\n            <label>This message stays forever because it's on chain!</label>\n        </div>\n    );\n}\n\nexport default Gifting;\n","/home/ookusa/github/gift_gc/src/Viewer.js",["94"],[],"import { useState, useEffect } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport Web3 from 'web3';\nimport abi from \"./contracts/GiftNFT.json\";\nimport \"./Viewer.css\";\n\nfunction Viewer() {\n    const [ req ] = useState(new URLSearchParams(useLocation().search));\n    const [ message, setMessage] = useState();\n    const [ id ] = useState(req.get('id'));\n    const [ web3 ] = useState(new Web3());\n\n    web3.setProvider(new web3.providers.HttpProvider('https://rpc-mumbai.maticvigil.com/'));\n    const contractAddress = process.env.REACT_APP_CONTRACT_ADDRESS;\n    const contract = new web3.eth.Contract(abi, contractAddress);\n    const nft = contract.methods.tokenMessage(id).call();\n\n    useEffect(() => {\n        (async() => {\n            web3.setProvider(new web3.providers.HttpProvider('https://rpc-mumbai.maticvigil.com/'));\n            const contractAddress = process.env.REACT_APP_CONTRACT_ADDRESS;\n            const contract = new web3.eth.Contract(abi, contractAddress);\n            const nft = await contract.methods.tokenMessage(id).call();\n            setMessage(nft);\n        })()\n    });\n    return (\n\t<div className=\"contents\">\n            <div className=\"card\">\n                <div className=\"card-header\">\n                    <h1>To You GIFT</h1>\n                </div>\n                <div className=\"card-body\">\n                    <p>{message}</p>\n                </div>\n            </div>\n\t</div>\n    );\n};\n\nexport default Viewer;\n\n","/home/ookusa/github/gift_gc/src/YesCancelDialog.js",[],[],"/home/ookusa/github/gift_gc/src/Viewer2.js",[],[],"/home/ookusa/github/gift_gc/src/Modal.js",[],[],{"ruleId":"95","severity":1,"message":"96","line":9,"column":12,"nodeType":"97","messageId":"98","endLine":9,"endColumn":20},{"ruleId":"95","severity":1,"message":"99","line":9,"column":22,"nodeType":"97","messageId":"98","endLine":9,"endColumn":33},{"ruleId":"95","severity":1,"message":"100","line":17,"column":8,"nodeType":"97","messageId":"98","endLine":17,"endColumn":12},{"ruleId":"95","severity":1,"message":"101","line":30,"column":13,"nodeType":"97","messageId":"98","endLine":30,"endColumn":28},{"ruleId":"95","severity":1,"message":"102","line":31,"column":13,"nodeType":"97","messageId":"98","endLine":31,"endColumn":16},{"ruleId":"103","severity":1,"message":"104","line":61,"column":8,"nodeType":"105","endLine":61,"endColumn":10,"suggestions":"106"},{"ruleId":"95","severity":1,"message":"107","line":16,"column":11,"nodeType":"97","messageId":"98","endLine":16,"endColumn":14},"no-unused-vars","'contract' is assigned a value but never used.","Identifier","unusedVar","'setContract' is assigned a value but never used.","'tran' is assigned a value but never used.","'contractAddress' is defined but never used.","'abi' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'web3'. Either include it or remove the dependency array. You can also do a functional update 'setWeb3(w => ...)' if you only need 'web3' in the 'setWeb3' call.","ArrayExpression",["108"],"'nft' is assigned a value but never used.",{"desc":"109","fix":"110"},"Update the dependencies array to be: [web3]",{"range":"111","text":"112"},[2174,2176],"[web3]"]